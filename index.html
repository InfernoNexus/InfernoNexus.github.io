<!DOCTYPE html>  <html>    <head>    
<meta name="viewport" content="width=device-width, initial-scale=1.0">    
<title>Newton & Gravity</title>    
<style>    
/* Container for the buttons */
#controls {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
}

/* The Spherical 3D Orb Button */
#leftBtn, #rightBtn {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 3px solid #ffcc00;
    cursor: pointer;
    position: relative;
    font-size: 28px;
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    outline: none;
    -webkit-tap-highlight-color: transparent;
    transition: transform 0.1s;

    /* THE 3D ORB EFFECT */
    /* 1. The base colors and the top-left highlight highlight */
    background: radial-gradient(circle at 30% 30%, #ff8888, #b30000 60%, #660000 100%);
    
    /* 2. Layered shadows for depth and the glow aura */
    box-shadow: 
        inset -4px -4px 10px rgba(0,0,0,0.5),   /* Bottom-right inner shadow */
        inset 4px 4px 10px rgba(255,255,255,0.4), /* Top-left inner highlight */
        0 8px 0 #550000,                          /* 3D Base depth */
        0 0 25px rgba(255, 204, 0, 0.7);          /* The Hazy Golden Glow */
}

/* Adding the extra 'Glow Ring' aura from the target photo */
#leftBtn::after, #rightBtn::after {
    content: '';
    position: absolute;
    top: -10px; left: -10px; right: -10px; bottom: -10px;
    border-radius: 50%;
    border: 2px solid rgba(255, 215, 0, 0.4);
    /* This creates the hazy 'fire' effect around the edge */
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
    pointer-events: none;
}

/* Restart Button - Matching the target's textured 3D look */
.restart-btn {
    display: block;
    margin: 15px auto;
    font-size: 18px;
    font-weight: bold;
    padding: 10px 25px;
    border-radius: 12px;
    border: 3px solid #ffcc00;
    color: white;
    cursor: pointer;
    background: linear-gradient(#ee4444, #990000);
    box-shadow: 
        0 6px 0 #660000, 
        0 0 20px rgba(255, 204, 0, 0.4);
}

/* Button Press Animation */
#leftBtn:active, #rightBtn:active, .restart-btn:active {
    transform: translateY(4px);
    box-shadow: 0 2px 0 #330000, 0 0 15px rgba(255, 204, 0, 0.6);
}

</style>

</head>    
<body>  <h2>üçé Newton & Gravity üçé</h2>    
<canvas id="game" width="520" height="620"></canvas>  <div id="mobile-ui">
    <div id="controls">
        <button id="leftBtn">‚óÄ</button>
        <button id="rightBtn">‚ñ∂</button>
    </div>
    <button class="restart-btn" onclick="restartGame()">Restart Game</button>
</div>

 <audio id="bgm" loop>    
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_0f7c38a88e.mp3?filename=peaceful-garden-12257.mp3">    
</audio>  <script>    
let windTime = 0;
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const music = document.getElementById("bgm");

// ---------------- VARIABLES ----------------
let newtonX = 215;
let appleX = Math.random() * 480;
let appleY = 0;
let score = 0;
let speed = 5;
let lives = 1;
let gameOver = false;
let isGolden = false;

// Track button states for continuous movement
const keys = {
    left: false,
    right: false
};

let clouds = [
    { x: 50, y: 80, speed: 0.3 },
    { x: 250, y: 120, speed: 0.2 },
    { x: 400, y: 60, speed: 0.25 }
];

// ---------------- TEXTURES ----------------
const barkTexture = document.createElement("canvas");
barkTexture.width = 45; barkTexture.height = 220;
const barkCtx = barkTexture.getContext("2d");
barkCtx.fillStyle = "#6d4c41";
barkCtx.fillRect(0,0,45,220);
for(let i=0; i<70; i++){
    barkCtx.strokeStyle = "rgba(0,0,0,0.2)";
    barkCtx.beginPath();
    let x = Math.random()*45;
    barkCtx.moveTo(x,0); barkCtx.lineTo(x + Math.random()*2-1, 220);
    barkCtx.stroke();
}

const grassTexture = document.createElement("canvas");
grassTexture.width = 520; grassTexture.height = 180;
const grassCtx = grassTexture.getContext("2d");
const g = grassCtx.createLinearGradient(0,0,0,180);
g.addColorStop(0,"#4caf50"); g.addColorStop(1,"#2e7d32");
grassCtx.fillStyle = g;
grassCtx.fillRect(0,0,520,180);
for(let i=0; i<450; i++){
    let x = Math.random()*520;
    let h = 10 + Math.random()*18;
    grassCtx.strokeStyle="rgba(0,70,0,0.35)";
    grassCtx.beginPath();
    grassCtx.moveTo(x,180);
    grassCtx.quadraticCurveTo(x + Math.random()*6-3, 180-h/2, x + Math.random()*4-2, 180-h);
    grassCtx.stroke();
}

// ---------------- CONTROLS ----------------

// Keyboard support
window.addEventListener("keydown", (e) => {
    if (e.key === "ArrowLeft") keys.left = true;
    if (e.key === "ArrowRight") keys.right = true;
});
window.addEventListener("keyup", (e) => {
    if (e.key === "ArrowLeft") keys.left = false;
    if (e.key === "ArrowRight") keys.right = false;
});

// Mobile Touch support (Hold to move)
const leftBtn = document.getElementById("leftBtn");
const rightBtn = document.getElementById("rightBtn");

leftBtn.addEventListener("touchstart", (e) => { e.preventDefault(); keys.left = true; });
leftBtn.addEventListener("touchend", (e) => { e.preventDefault(); keys.left = false; });
rightBtn.addEventListener("touchstart", (e) => { e.preventDefault(); keys.right = true; });
rightBtn.addEventListener("touchend", (e) => { e.preventDefault(); keys.right = false; });

// ---------------- DRAW FUNCTIONS ----------------
function drawGrass(){ ctx.drawImage(grassTexture,0,440); }

function drawClouds(){
    ctx.fillStyle="rgba(255,255,255,0.9)";
    clouds.forEach(c=>{
        ctx.beginPath();
        ctx.arc(c.x,c.y,20,0,Math.PI*2);
        ctx.arc(c.x+25,c.y+5,25,0,Math.PI*2);
        ctx.arc(c.x+55,c.y,20,0,Math.PI*2);
        ctx.fill();
        c.x+=c.speed; if(c.x>canvas.width+60) c.x=-60;
    });
}

function drawBackground(){
    ctx.drawImage(barkTexture, 90, 260);
    const sway = Math.sin(windTime) * 5;
    ctx.save();
    ctx.translate(sway, 0);
    const leafGrad = ctx.createRadialGradient(112,220,30,112,240,100);
    leafGrad.addColorStop(0,"#81c784");
    leafGrad.addColorStop(1,"#1b5e20");
    ctx.fillStyle = leafGrad;
    ctx.beginPath(); ctx.arc(112,230,80,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(150,250,70,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(70,250,70,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(112,280,75,0,Math.PI*2); ctx.fill();
    ctx.restore(); 
}

function drawNewton(){
    ctx.fillStyle="rgba(0,0,0,0.25)";
    ctx.beginPath(); ctx.ellipse(newtonX+50,565,42,10,0,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#6b3f2a"; ctx.fillRect(newtonX,455,100,95);
    ctx.fillStyle="#ffffff"; ctx.fillRect(newtonX+40,455,20,70);
    ctx.beginPath(); ctx.arc(newtonX+50,420,26,0,Math.PI*2); ctx.fillStyle="#f1c27d"; ctx.fill();
    ctx.fillStyle="#f0f0f0"; ctx.beginPath(); ctx.arc(newtonX+50,410,32,Math.PI,0); ctx.fill();
    ctx.beginPath(); ctx.arc(newtonX+18,425,14,0,Math.PI*2); ctx.arc(newtonX+82,425,14,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="black"; ctx.beginPath(); ctx.arc(newtonX+42,420,2.5,0,Math.PI*2); ctx.arc(newtonX+58,420,2.5,0,Math.PI*2); ctx.fill();
    ctx.fillStyle="#000"; ctx.fillRect(newtonX+28,550,16,45); ctx.fillRect(newtonX+56,550,16,45);
}

function drawApple(){
    const appleGrad = ctx.createRadialGradient(appleX-4,appleY-6,2,appleX,appleY,16);
    appleGrad.addColorStop(0,isGolden?"#fff7b3":"#ff6b6b");
    appleGrad.addColorStop(1,isGolden?"#d4af37":"#b71c1c");
    ctx.fillStyle=appleGrad;
    ctx.beginPath(); ctx.arc(appleX,appleY,15,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(appleX-5,appleY-6,4,0,Math.PI*2); ctx.fillStyle=isGolden?"#fff4a3":"#ffaaaa"; ctx.fill();
    ctx.fillStyle="brown"; ctx.fillRect(appleX-1,appleY-22,2,10);
}

// ---------------- GAME LOGIC ----------------
function resetApple(){
    appleY=-20;
    const margin=30; 
    appleX = margin + Math.random() * (canvas.width - margin * 2);
    isGolden=Math.random()<0.2;
}

function restartGame(){
    score=0; speed=5; lives=1; gameOver=false;
    resetApple();
    music.volume=0.5; music.play();
    gameLoop();
}

function gameLoop(){
    if(gameOver){
        ctx.fillStyle="rgba(0,0,0,0.65)"; ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="red"; ctx.font="38px Arial"; ctx.fillText("GAME OVER",150,300);
        ctx.fillStyle="white"; ctx.font="20px Arial"; ctx.fillText("Score: "+score,215,340);
        return;
    }

    // CONTINUOUS MOVEMENT LOGIC
    if (keys.left && newtonX > 0) newtonX -= 7;
    if (keys.right && newtonX < canvas.width - 100) newtonX += 7;

    ctx.clearRect(0,0,canvas.width,canvas.height);
    drawClouds(); drawBackground(); drawGrass(); drawNewton(); drawApple();
    
    ctx.fillStyle="black"; ctx.font="18px Arial";
    ctx.fillText("Score: "+score,20,30); ctx.fillText("Life: "+lives,440,30);

    appleY+=speed;
    if(appleY>440 && appleX>newtonX && appleX<newtonX+100){
        score+=isGolden?5:1;
        if(score%5===0) speed+=0.5;
        resetApple();
    }
    if(appleY>canvas.height){ gameOver=true; music.pause(); }
    windTime += 0.03;
    requestAnimationFrame(gameLoop);
}

// ---------------- START ----------------
resetApple();
gameLoop();
</script>  </body>

</html>  