<!DOCTYPE html>  <html>    <head>    
<meta name="viewport" content="width=device-width, initial-scale=1.0">    
<title>Newton & Gravity</title>    
<style>    
body {    
  margin: 0;    
  text-align: center;    
  font-family: Arial;    
  background: linear-gradient(#9fdcff, #eef9ff);    
}    
canvas {    
  display: block;    
  margin: auto;    
  background: #87ceeb;    
  border: 4px solid #000;    
  border-radius: 32px;    
}  /* Phone/game buttons */  
#controls {  
display: flex;  
justify-content: center;  
gap: 25px;  
margin-top: 15px;  
}  
#controls button {  
font-size: 36px;  
width: 80px;  
height: 80px;  
border-radius: 20px;  
border: 3px solid #444;  
background: linear-gradient(#ff6666,#cc2222);  
color: white;  
box-shadow: 0 6px #aa0000;  
cursor: pointer;  
transition: all 0.1s ease-in-out;  
}  
#controls button:active {  
box-shadow: 0 2px #aa0000;  
transform: translateY(4px);  
}  /* Restart button */
.restart-btn {
font-size: 22px;
padding: 12px 24px;
border-radius: 12px;
border: 3px solid #444;
background: linear-gradient(#ff6666,#cc2222);
color: white;
box-shadow: 0 5px #aa0000;
cursor: pointer;
transition: all 0.1s ease-in-out;
}
.restart-btn:active {
box-shadow: 0 2px #aa0000;
transform: translateY(3px);
}

@media (max-width: 600px) {
canvas { width: 95%; height: auto; }
#controls button { width: 70px; height: 70px; font-size: 28px; }
.restart-btn { font-size: 18px; padding: 10px 18px; }
}
</style>

</head>    
<body>  <h2>üçé Newton & Gravity üçé</h2>    
<canvas id="game" width="520" height="620"></canvas>  <div id="mobile-ui">    
  <div id="controls">    
    <button id="leftBtn">‚¨ÖÔ∏è</button>    
    <button id="rightBtn">‚û°Ô∏è</button>    
  </div>    
  <button class="restart-btn" onclick="restartGame()">Restart Game</button>    
</div>  <audio id="bgm" loop>    
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_0f7c38a88e.mp3?filename=peaceful-garden-12257.mp3">    
</audio>  <script>    
let windTime = 0;
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const music = document.getElementById("bgm");

// ---------------- VARIABLES ----------------
let newtonX = 215;
let appleX = Math.random() * 480;
let appleY = 0;
let score = 0;
let speed = 5;
let lives = 1;
let gameOver = false;
let isGolden = false;

let clouds = [
    { x: 50, y: 80, speed: 0.3 },
    { x: 250, y: 120, speed: 0.2 },
    { x: 400, y: 60, speed: 0.25 }
];

// ---------------- TEXTURES ----------------
// Bark Texture
const barkTexture = document.createElement("canvas");
barkTexture.width = 45; barkTexture.height = 220;
const barkCtx = barkTexture.getContext("2d");
barkCtx.fillStyle = "#6d4c41";
barkCtx.fillRect(0,0,45,220);
for(let i=0; i<70; i++){
    barkCtx.strokeStyle = "rgba(0,0,0,0.2)";
    barkCtx.beginPath();
    let x = Math.random()*45;
    barkCtx.moveTo(x,0); barkCtx.lineTo(x, 220);
    barkCtx.stroke();
}

// Grass texture
const grassTexture = document.createElement("canvas");
grassTexture.width = 520; grassTexture.height = 180;
const grassCtx = grassTexture.getContext("2d");
const g = grassCtx.createLinearGradient(0,0,0,180);
g.addColorStop(0,"#4caf50"); g.addColorStop(1,"#2e7d32");
grassCtx.fillStyle = g;
grassCtx.fillRect(0,0,520,180);

// ---------------- CONTROLS ----------------
document.addEventListener("keydown", moveNewton);
document.getElementById("leftBtn").addEventListener("touchstart", (e) => { e.preventDefault(); if(newtonX > 10) newtonX -= 40; });
document.getElementById("rightBtn").addEventListener("touchstart", (e) => { e.preventDefault(); if(newtonX < 410) newtonX += 40; });

function moveNewton(e){
    if(e.key==="ArrowLeft" && newtonX > 10) newtonX -= 30;
    if(e.key==="ArrowRight" && newtonX < 410) newtonX += 30;
}

// ---------------- DRAW FUNCTIONS ----------------
function drawClouds(){
    ctx.fillStyle="rgba(255,255,255,0.9)";
    clouds.forEach(c => {
        ctx.beginPath();
        ctx.arc(c.x, c.y, 20, 0, Math.PI*2);
        ctx.arc(c.x+25, c.y+5, 25, 0, Math.PI*2);
        ctx.arc(c.x+55, c.y, 20, 0, Math.PI*2);
        ctx.fill();
        c.x += c.speed; if(c.x > canvas.width+60) c.x = -60;
    });
}

function drawBackground(){
    ctx.drawImage(barkTexture, 90, 260);
    const sway = Math.sin(windTime) * 5;
    ctx.save();
    ctx.translate(sway, 0);
    ctx.fillStyle = "#1b5e20";
    ctx.beginPath(); ctx.arc(112,230,80,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(150,250,70,0,Math.PI*2); ctx.fill();
    ctx.beginPath(); ctx.arc(70,250,70,0,Math.PI*2); ctx.fill();
    ctx.restore();
}

function drawNewton(){
    // Shadow
    ctx.fillStyle="rgba(0,0,0,0.2)";
    ctx.beginPath(); ctx.ellipse(newtonX+50, 580, 40, 10, 0, 0, Math.PI*2); ctx.fill();
    // Body
    ctx.fillStyle="#6b3f2a"; ctx.fillRect(newtonX+20, 480, 60, 80);
    // Head
    ctx.fillStyle="#f1c27d"; ctx.beginPath(); ctx.arc(newtonX+50, 450, 25, 0, Math.PI*2); ctx.fill();
    // Hair
    ctx.fillStyle="#f0f0f0"; ctx.beginPath(); ctx.arc(newtonX+50, 440, 30, Math.PI, 0); ctx.fill();
}

function drawApple(){
    ctx.fillStyle = isGolden ? "#ffd700" : "#ff0000";
    ctx.beginPath(); ctx.arc(appleX, appleY, 15, 0, Math.PI*2); ctx.fill();
    ctx.fillStyle = "brown"; ctx.fillRect(appleX-2, appleY-25, 4, 10);
}

// ---------------- GAME LOGIC ----------------
function resetApple(){
    appleY = -20;
    appleX = 30 + Math.random() * (canvas.width - 60);
    isGolden = Math.random() < 0.2;
}

function restartGame(){
    score = 0; speed = 5; gameOver = false;
    resetApple();
    gameLoop();
}

function gameLoop(){
    if(gameOver){
        ctx.fillStyle="rgba(0,0,0,0.7)"; ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="white"; ctx.font="40px Arial"; ctx.fillText("GAME OVER", 140, 300);
        return;
    }

    ctx.clearRect(0,0,canvas.width,canvas.height);
    
    drawClouds();
    drawBackground();
    ctx.drawImage(grassTexture, 0, 500);
    drawNewton();
    drawApple();

    appleY += speed;

    // Collision
    if(appleY > 450 && appleX > newtonX && appleX < newtonX + 100){
        score += isGolden ? 5 : 1;
        if(score % 5 === 0) speed += 0.5;
        resetApple();
    }

    if(appleY > canvas.height){ gameOver = true; }

    ctx.fillStyle="black"; ctx.font="20px Arial";
    ctx.fillText("Score: " + score, 20, 40);

    windTime += 0.03;
    requestAnimationFrame(gameLoop);
}

gameLoop();

// ---------------- START ----------------
resetApple();
gameLoop();
</script>  </body>

</html>  